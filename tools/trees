#!/usr/bin/env bash

# Create two git worktrees for the current project

set -e  # Exit on error

# Colors
GREEN='\033[0;32m'
BLUE='\033[0;34m'
YELLOW='\033[1;33m'
CYAN='\033[0;36m'
BOLD='\033[1m'
NC='\033[0m' # No Color

# Get the current project name from the directory
PROJECT_NAME=$(basename "$(pwd)")

echo -e "${BOLD}${CYAN}🌳 Creating worktrees for ${YELLOW}$PROJECT_NAME${CYAN} project...${NC}"
echo ""

# Create first worktree
echo -e "${BLUE}📁 Creating worktree 1: ${YELLOW}feature1${BLUE} -> ${GREEN}../${PROJECT_NAME}-wt1${NC}"
git worktree add -b feature1 ../${PROJECT_NAME}-wt1

echo ""

# Create second worktree  
echo -e "${BLUE}📁 Creating worktree 2: ${YELLOW}feature2${BLUE} -> ${GREEN}../${PROJECT_NAME}-wt2${NC}"
git worktree add -b feature2 ../${PROJECT_NAME}-wt2

echo ""
echo -e "${BOLD}${GREEN}✅ Successfully created 2 worktrees!${NC}"
echo ""
echo -e "${BOLD}${CYAN}🌲 Worktrees created:${NC}"
echo -e "  ${GREEN}•${NC} ${GREEN}../${PROJECT_NAME}-wt1${NC} ${BLUE}(branch: ${YELLOW}feature1${BLUE})${NC}"
echo -e "  ${GREEN}•${NC} ${GREEN}../${PROJECT_NAME}-wt2${NC} ${BLUE}(branch: ${YELLOW}feature2${BLUE})${NC}"